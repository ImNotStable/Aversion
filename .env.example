# Environment variables for Aversion MCP Server

# Server Configuration
ENV=production
SERVER_PORT=8080

# Logging Configuration
LOG_LEVEL=INFO
LOG_FILE=logs/mcp-server.log
LOG_MAX_SIZE=10MB
LOG_MAX_HISTORY=30
LOG_FORMAT=json # Used by Dockerfile and application.yml

# Database Configuration (Docker Compose)
DATABASE_URL=jdbc:postgresql://postgres:5432/mcp_server
DATABASE_USER=mcp_user
DATABASE_PASSWORD=changeme
REDIS_URL=redis://redis:6379

# PostgreSQL Container Configuration
POSTGRES_DB=mcp_server
POSTGRES_USER=mcp_user
POSTGRES_PASSWORD=changeme
POSTGRES_PORT=5432

# Redis Container Configuration
REDIS_PASSWORD=
REDIS_PORT=6379

# Java Application Specific (from application.yml)
DB_POOL_SIZE=10
DB_POOL_MIN_IDLE=2
DB_CONNECTION_TIMEOUT=30000
DB_IDLE_TIMEOUT=600000
DB_MAX_LIFETIME=1800000
DB_LEAK_DETECTION=60000

SQLITE_ENABLED=true
SQLITE_PATH=data/mcp-server.db

MYSQL_ENABLED=false
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_DATABASE=mcp_server
MYSQL_USERNAME=mcp_user
MYSQL_PASSWORD=

POSTGRES_ENABLED=false
POSTGRES_HOST=localhost
# POSTGRES_PORT is already defined above for the container

WEB_CONNECTION_TIMEOUT=30000
WEB_READ_TIMEOUT=60000
WEB_MAX_CONNECTIONS=50
WEB_MAX_CONNECTIONS_PER_HOST=10
WEB_RATE_LIMITING=true
WEB_RATE_LIMIT=60
WEB_MAX_PAGE_SIZE=10485760
WEB_USER_AGENT=Aversion-MCP-Server/1.0.0

FS_ALLOWED_PATHS=/tmp,/var/tmp,./data,./uploads
FS_MAX_FILE_SIZE=104857600
FS_MAX_BATCH_SIZE=100
FS_OPERATION_TIMEOUT=30000
FS_BUFFER_SIZE=8192

MONITORING_ENABLED=true
METRICS_ENABLED=true
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
PROMETHEUS_PATH=/metrics

TRACING_ENABLED=false
TRACING_SAMPLE_RATE=0.1

CORS_ENABLED=true
CORS_ORIGINS=*
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=*

RATE_LIMITING_ENABLED=true
RATE_LIMIT_RPM=1000
RATE_LIMIT_BURST=100

MAX_REQUEST_SIZE=10485760
MAX_JSON_DEPTH=20

THREAD_POOL_CORE=4
THREAD_POOL_MAX=20
THREAD_POOL_QUEUE=100
THREAD_POOL_KEEPALIVE=60

CACHING_ENABLED=true
CACHE_MAX_SIZE=1000
CACHE_TTL=3600

COMPRESSION_ENABLED=true
COMPRESSION_MIN_SIZE=1024

DEBUG_ENABLED=false
DEBUG_LOG_REQUESTS=false
DEBUG_LOG_RESPONSES=false
HOT_RELOAD_ENABLED=false
HOT_RELOAD_PATHS=src/main/java

JAVA_HEAP_SIZE=512m
GC_PAUSE_TARGET=200
JMX_ENABLED=true
JMX_PORT=9999

BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION=30

MAINTENANCE_ENABLED=true
CLEANUP_SCHEDULE="0 1 * * 0"
LOG_CLEANUP_DAYS=30

# Timezone for Docker container
TZ=UTC

# Java Options for Docker container (from Dockerfile)
JAVA_OPTS="-Xmx${JAVA_HEAP_SIZE} -XX:+UseG1GC -XX:MaxGCPauseMillis=${GC_PAUSE_TARGET} -XX:+UseStringDeduplication -XX:+OptimizeStringConcat -Djava.security.egd=file:/dev/./urandom -Dfile.encoding=UTF-8 -Duser.timezone=${TZ}"
